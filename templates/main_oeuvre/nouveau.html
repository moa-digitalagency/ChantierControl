{% extends "base.html" %}

{% block page_title %}Ajouter Ouvrier{% endblock %}
{% block page_subtitle %}Nouveau membre de l'équipe{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto bg-white rounded-xl shadow-sm border border-gray-100 p-6 md:p-8">
    <form method="POST" action="{{ url_for('main_oeuvre.nouveau') }}" class="space-y-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
                <label for="nom" class="block text-sm font-medium text-gray-700 mb-2">Nom <span class="text-red-500">*</span></label>
                <input type="text" name="nom" id="nom" required class="w-full rounded-lg border-gray-300 focus:border-primary-500 focus:ring-primary-500 transition-colors shadow-sm">
            </div>
            <div>
                <label for="prenom" class="block text-sm font-medium text-gray-700 mb-2">Prénom <span class="text-red-500">*</span></label>
                <input type="text" name="prenom" id="prenom" required class="w-full rounded-lg border-gray-300 focus:border-primary-500 focus:ring-primary-500 transition-colors shadow-sm">
            </div>
        </div>

        <div>
            <label for="chantier_id" class="block text-sm font-medium text-gray-700 mb-2">Chantier d'affectation</label>
            <select name="chantier_id" id="chantier_id" class="w-full rounded-lg border-gray-300 focus:border-primary-500 focus:ring-primary-500 transition-colors shadow-sm">
                <option value="">-- Aucun (Non assigné) --</option>
                {% for c in chantiers %}
                <option value="{{ c.id }}">{{ c.nom }}</option>
                {% endfor %}
            </select>
        </div>

        <div>
            <label for="poste" class="block text-sm font-medium text-gray-700 mb-2">Poste / Fonction</label>
            <input type="text" name="poste" id="poste" placeholder="Ex: Maçon, Chef d'équipe..." class="w-full rounded-lg border-gray-300 focus:border-primary-500 focus:ring-primary-500 transition-colors shadow-sm">
        </div>

        <div>
            <label for="telephone" class="block text-sm font-medium text-gray-700 mb-2">Téléphone</label>
            <input type="tel" name="telephone" id="telephone" class="w-full rounded-lg border-gray-300 focus:border-primary-500 focus:ring-primary-500 transition-colors shadow-sm">
        </div>

        <div>
            <label for="taux_horaire" class="block text-sm font-medium text-gray-700 mb-2">Taux Horaire (MAD)</label>
            <div class="relative">
                <input type="number" step="0.01" name="taux_horaire" id="taux_horaire" placeholder="0.00" class="w-full pl-4 pr-12 rounded-lg border-gray-300 focus:border-primary-500 focus:ring-primary-500 transition-colors shadow-sm">
                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-gray-400">
                    MAD
                </div>
            </div>
            <p class="text-xs text-gray-500 mt-1">Sera utilisé par défaut pour les pointages</p>
        </div>

        <div class="flex items-center justify-end gap-3 pt-6 border-t border-gray-100 mt-8">
            <a href="{{ url_for('main_oeuvre.index') }}" class="px-4 py-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors font-medium">Annuler</a>
            <button type="submit" class="px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 shadow-sm transition-colors font-medium">Enregistrer</button>
        </div>
    </form>
</div>
{% endblock %}
