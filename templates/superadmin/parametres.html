{% extends 'base.html' %}
{% block title %}Paramètres - Super Admin{% endblock %}

{% block content %}
<div class="mb-6">
    <h1 class="text-2xl font-bold text-gray-800">
        <i class="fas fa-sliders-h mr-2"></i> Paramètres de l'Application
    </h1>
    <p class="text-gray-600">Configuration générale et alertes</p>
</div>

<form method="POST" class="space-y-6">
    <div class="bg-white rounded-lg shadow">
        <div class="border-b px-6 py-4">
            <h2 class="text-lg font-semibold text-gray-800">
                <i class="fas fa-info-circle mr-2 text-blue-600"></i> Informations Générales
            </h2>
        </div>
        <div class="p-6 grid md:grid-cols-2 gap-6">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Nom de l'application</label>
                <input type="text" name="app_name" value="{{ settings.app_name }}"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Devise</label>
                <select name="currency" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500">
                    <option value="MAD" {% if settings.currency == 'MAD' %}selected{% endif %}>MAD (Dirham Marocain)</option>
                    <option value="EUR" {% if settings.currency == 'EUR' %}selected{% endif %}>EUR (Euro)</option>
                    <option value="USD" {% if settings.currency == 'USD' %}selected{% endif %}>USD (Dollar)</option>
                </select>
            </div>
            <div class="md:col-span-2">
                <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                <textarea name="app_description" rows="2"
                          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500">{{ settings.app_description }}</textarea>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Email de contact</label>
                <input type="email" name="contact_email" value="{{ settings.contact_email }}"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Téléphone de contact</label>
                <input type="tel" name="contact_telephone" value="{{ settings.contact_telephone }}"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500">
            </div>
        </div>
    </div>
    
    <div class="bg-white rounded-lg shadow">
        <div class="border-b px-6 py-4">
            <h2 class="text-lg font-semibold text-gray-800">
                <i class="fas fa-bell mr-2 text-yellow-600"></i> Configuration des Alertes
            </h2>
        </div>
        <div class="p-6 grid md:grid-cols-3 gap-6">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">
                    Seuil alerte avance ({{ settings.currency }})
                </label>
                <input type="number" name="seuil_alerte_avance" value="{{ settings.seuil_alerte_avance }}"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500">
                <p class="text-xs text-gray-500 mt-1">Alerte si solde < ce montant</p>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">
                    Seuil alerte budget (%)
                </label>
                <input type="number" name="seuil_alerte_budget" value="{{ settings.seuil_alerte_budget }}" min="1" max="100"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500">
                <p class="text-xs text-gray-500 mt-1">Alerte si consommation > ce %</p>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">
                    Délai validation max (heures)
                </label>
                <input type="number" name="delai_validation_max" value="{{ settings.delai_validation_max }}"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500">
                <p class="text-xs text-gray-500 mt-1">Alerte si saisie en attente</p>
            </div>
        </div>
    </div>
    
    <div class="flex justify-end">
        <button type="submit" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg">
            <i class="fas fa-save mr-2"></i> Enregistrer
        </button>
    </div>
</form>
{% endblock %}
